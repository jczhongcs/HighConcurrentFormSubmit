<!DOCTYPE html>

<html lang="en">
<head>
  <title>添加用户</title>
  <link rel="stylesheet"  href="/bootstrap/css/styles.css">
  <link rel="stylesheet" href="/bootstrap/css/colors.css">
  <link rel="stylesheet" href="/bootstrap/css/cont.css">
  <!-- jquery -->
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <!-- bootstrap -->
  <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css" />
  <script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
  <!-- jquery-validator -->
  <script type="text/javascript" src="/jquery-validation/jquery.validate.min.js"></script>
  <script type="text/javascript" src="/jquery-validation/localization/messages_zh.min.js"></script>
  <!-- layer -->
  <script type="text/javascript" src="/layer/layer.js"></script>
  <!-- md5.js -->
  <script type="text/javascript" src="/js/md5.min.js"></script>
  <!-- common.js -->
  <script type="text/javascript" src="/js/common.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/custom.js"></script>
  <script src="/js/moment.min.js"></script>
  <script src="/js/daterangepicker.js"></script>
  <script src="/js/dropzone.js"></script>
  <script src="/js/imagesloaded.js"></script>
  <script src="/js/ion.rangeSlider.min.js"></script>
  <script src="/js/jquery.magnific-popup.min.js"></script>
  <script src="/js/lightbox.js"></script>
  <script src="/js/markerclusterer.js"></script>


  <script src="/js/morris.min.js"></script>
  <script src="/js/raphael.min.js"></script>
  <script src="/js/select2.min.js"></script>
  <script src="/js/slick.js"></script>
  <script src="/js/slider-bg.js"></script>
  <script src="/js/script.js"></script>



</head>
<body>
<div th:insert="adhead.html"></div>
<div class="container-fluid p-0">
  <div class="row">

    <div class="col-lg-3 col-md-4 col-sm-12">
      <div class="property_dashboard_navbar">
        <div class="dash_user_menues">
          <ul>
            <li></li>
            <li></li>
            <li class="active">
              <a href="/admin/usermanage" style="color:white">
                <i class="ti-layers"></i>&nbsp;用户管理
              </a>
            </li>
            <li></li>
            <li >
              <a href="/admin/coursemanage" style="color:white">
                <i class="ti-hummer"></i>&nbsp;课程管理
              </a>
            </li>
            <li></li>
            <li >
              <a href="/admin/admin_manage" style="color:white">
                <i class="ti-gift"></i>&nbsp;选课管理
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>




    <div class="col-lg-9 col-md-8 col-sm-12">
      <section style="padding-top:10px";>
        <div class="container">
          <div class="row">
                  <form id="userForm">

                    <div class="col-lg-12 col-md-12">
                      <div class="submit-page form-simple">
                        <div class="frm_submit_block">
                          <h3>用户信息 </h3>
                          <div class="form-row">

                            <div class="form-group col-md-8">
                              <label>id</label>
                              <input type="text" id="userId" name="userId" class="form-control" >

                            </div>

                            <div class="form-group col-md-8">
                              <label>昵称</label>
                              <input type="text" id="nickname" name="nickname" class="form-control" placeholder="昵称" >

                            </div>

                            <div class="form-group col-md-8">
                              <label>手机号</label>
                              <input type="text" id="phone" name="phone" class="form-control" placeholder="手机号"  >
                            </div>

                            <div class="form-group col-md-8">
                               <label>用户类型</label>
                              <select th:field="${user.role}" class="form-control" name="role" id="role">
                                <option th:selected="${user.role==1}" value="1">学生</option>
                                <option th:selected="${user.role==2}" value="2" >教师</option>
                                <option th:selected="${user.role==0}" value="0" >管理员</option>
                              </select>

                            </div>

                            <div class="form-group col-md-8">


                              <label>用户密码</label>
                              <input type="text" id="password" name="password" class="form-control" placeholder="密码" >
                            </div>
                            <br>
                            <br>
                            <div class="form-group col-md-12">
                              <div class="col-lg-12 col-md-12">
                                <br>
                                <br>
                                <button  class="btn bg-2 addUserBtn" style="margin-left: 25px" type="button" onclick="submitUser()" >添加</button>
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>

                  </form>
            <form id="addUserForm"  method="post">
              <input type="hidden" name="_method"  value="insert"/>
            </form>
        </div>
      </div>
      </section>
    </div>
  </div>
</div>

<div th:insert="adend.html"></div>


</body>

<script>



  function submitUser(){
    $.ajax({
      url:"/admin/do_useradd",
      type:"POST",
      data:{
        userId:$("#userId").val(),
        password:$("#password").val(),
        phone:$("#phone").val(),
        role:$("#role").val(),
        nickname:$("#nickname").val()
      },
      success:function(data){
        alert("添加用户");
        window.location.href="/admin/usermanage";
      },
      error:function(){
        layer.msg("客户端请求有误");
      }

    });
  }
</script>
</html>